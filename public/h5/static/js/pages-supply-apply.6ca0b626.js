(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-supply-apply"],{"039b":function(t,e,i){var a=i("7f18");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("56ee3da6",a,!0,{sourceMap:!1,shadowMode:!1})},1892:function(t,e,i){"use strict";i.r(e);var a=i("7fcd"),n=i("ab4b");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("2a16");var r,o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"2910b108",null,!1,a["a"],r);e["default"]=d.exports},"2a16":function(t,e,i){"use strict";var a=i("039b"),n=i.n(a);n.a},"7e78":function(t,e,i){"use strict";var a=i("b0dd"),n=i.n(a);n.a},"7f18":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.grade[data-v-2910b108]{height:100%}.grade .title[data-v-2910b108]{heigth:%?100?%;font-size:%?30?%}.grade .title .name[data-v-2910b108]{margin:0 %?20?%;font-size:%?30?%}.grade .title .line[data-v-2910b108]{position:relative;display:block;width:%?100?%;border-top:1px solid red}.grade .title .line[data-v-2910b108]::after{position:absolute;content:"";display:block;width:%?16?%;height:%?16?%;border-radius:50%;background:red}.grade .title .left-line[data-v-2910b108]::after{right:0;top:%?-9?%}.grade .title .right-line[data-v-2910b108]::after{left:0;top:%?-9?%}.grade-list[data-v-2910b108]{padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-flex-wrap:wrap;flex-wrap:wrap}.grade-list .item[data-v-2910b108]{width:%?346?%;border-radius:%?20?%;p-right:%?10?%;margin-bottom:%?20?%;padding-bottom:%?20?%;overflow:hidden;background:#fff;box-shadow:0 0 %?8?% rgba(0,0,0,.1);margin-bottom:%?10?%}.red-border[data-v-2910b108]{border:solid %?2?% #e2231a}.grade-list .item[data-v-2910b108]:nth-child(2n+0){margin-right:0}.banner-image[data-v-2910b108]{width:100%;box-sizing:border-box;padding:%?20?%}.banner-image uni-image[data-v-2910b108]{width:%?710?%;height:%?294?%}.grade-list .grade-info[data-v-2910b108]{padding:0 %?24?%}.grade-list .grade-title[data-v-2910b108]{margin-top:%?20?%;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:%?30?%}.grade-list .price[data-v-2910b108]{color:#e2231a}.grade-list .price .num[data-v-2910b108]{font-size:%?30?%;font-weight:700}',""]),t.exports=e},"7fcd":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"grade"},[i("v-uni-view",{staticClass:"banner-image d-c-c"},[i("v-uni-image",{attrs:{src:t.setting.banner_file_path,mode:"widthFix"}})],1),i("v-uni-view",{staticStyle:{padding:"20rpx"}},[i("v-uni-view",{staticClass:"d-s-c border-b-e"},[i("v-uni-text",{staticClass:"key-name"},[t._v("供应商名称")]),i("v-uni-input",{staticClass:"ml20 flex-1 p-30-0",attrs:{name:"name",type:"text",placeholder:"请输入名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-uni-view",{staticClass:"d-s-c border-b-e"},[i("v-uni-text",{staticClass:"key-name"},[t._v("供应商简介")]),i("v-uni-input",{staticClass:"ml20 flex-1 p-30-0",attrs:{name:"introduce",type:"text",placeholder:"请输入简介"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}})],1),i("v-uni-view",{staticClass:"d-c-c p-20-0 f28"},[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeFunc.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{value:"checkbox",checked:t.is_read}}),i("v-uni-text",[t._v("我已阅读并了解")]),i("v-uni-text",{staticClass:"red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isPopup=!0}}},[t._v("【商家入驻协议】")])],1)],1)],1),i("v-uni-view",{staticClass:"title d-c-c"},[i("v-uni-text",{staticClass:"line left-line"}),i("v-uni-text",{staticClass:"name"},[t._v("请选择升级等级")]),i("v-uni-text",{staticClass:"line right-line"})],1),i("v-uni-view",{staticClass:"grade-list"},t._l(t.listData,(function(e,a){return i("v-uni-view",{key:a,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseGrade(e.kmd_grade_id)}}},[i("v-uni-view",{class:t.type==e.kmd_grade_id?"item red-border":"item"},[i("v-uni-view",{staticClass:"grade-info"},[i("v-uni-view",{staticClass:"grade-title"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"d-b-c mt20"},[i("v-uni-view",{staticClass:"gray"},[t._v("申请金额")]),i("v-uni-view",{staticClass:"price"},[t._v("¥"),i("v-uni-text",{staticClass:"num"},[t._v(t._s(e.money))])],1)],1)],1)],1)],1)})),1),0!=t.kmd_grade_id?i("v-uni-view",{staticClass:"buy-checkout"},[i("v-uni-view",{class:20==t.pay_type?"item active":"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payTypeFunc(20)}}},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[i("span",{staticClass:"icon iconfont icon-weixin"})]),i("v-uni-text",{staticClass:"key"},[t._v("微信支付：")])],1),i("v-uni-view",{staticClass:"icon-box d-c-c"},[i("span",{staticClass:"icon iconfont icon-xuanze"})])],1),i("v-uni-view",{class:10==t.pay_type?"item active":"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payTypeFunc(10)}}},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[i("span",{staticClass:"icon iconfont icon-yue"})]),i("v-uni-text",{staticClass:"key"},[t._v("余额支付：")])],1),i("v-uni-view",{staticClass:"icon-box d-c-c"},[i("span",{staticClass:"icon iconfont icon-xuanze"})])],1),i("v-uni-view",{staticClass:"p20"},[i("v-uni-button",{staticClass:"btn-red f30 mt30",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPay(10)}}},[t._v("下一步")])],1)],1):t._e(),i("v-uni-view",{staticClass:"banner-image d-c-c"},[i("v-uni-image",{attrs:{src:t.setting.file_path,mode:"scaleToFill"}})],1),i("Popup",{attrs:{show:t.isPopup,msg:"申请协议"}},[i("v-uni-view",{staticClass:"agreement-content f28 lh150"},[t._v(t._s(t.setting.license))]),i("v-uni-view",{staticClass:"ww100 pt20 d-c-c"},[i("v-uni-button",{staticClass:"btn-red",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isPopup=!1}}},[t._v("我已阅读")])],1)],1)],1)},s=[]},"8cf6":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["uni-popup","uni-popup-"+t.type],style:"width:"+t.width+"rpx; heigth:"+t.heigth+"rpx;padding:"+t.padding+"rpx;background-color:"+t.backgroundColor+";box-shadow:"+t.boxShadow+";"},[""!=t.msg?i("v-uni-view",{staticClass:"popup-head"},[t._v(t._s(t.msg))]):t._e(),t._t("default")],2)],1)},s=[]},9307:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("eafc"),s=a(i("c571")),r={components:{Popup:s.default},data:function(){return{isPopup:!1,is_read:!1,pay_type:20,type:"no",name:"",introduce:"",kmd_grade_id:0,listData:[],setting:{}}},onShow:function(){uni.showLoading({title:"加载中"}),this.getData()},computed:{},onPullDownRefresh:function(){},methods:{getData:function(){var t=this;t._get("plus.supply.supply/apply",{},(function(e){t.listData=e.data.list,t.setting=e.data.setting;var i=e.data.apply;if(uni.hideLoading(),i["need_mobile"])return t.showSuccess("需要绑定手机号后才能操作",(function(){uni.navigateTo({url:"/pages/login/bindmobile"})})),!1;if(!i["is_open"]||!i["is_apply"])return t.showSuccess("未开启申请",(function(){uni.redirectTo({url:"/pages/user/index/index"})})),!1;if(1!=i["can_apply"]){var a="请先实名认证后再升级",n="/pages/plus/certify/apply/apply?from_url=supply";return 2==i["can_apply"]&&(a="实名认证正在审核中，请在通过后继续申请",n="/pages/user/index/index"),t.showSuccess(a,(function(){uni.redirectTo({url:n})})),!1}return i["has_apply"]?(t.showSuccess("已经申请过了，请联系管理员",(function(){uni.redirectTo({url:"/pages/user/index/index"})})),!1):void 0}))},payTypeFunc:function(t){var e=this;e.pay_type=t},goPay:function(){var t=this;if(t.name)if(t.introduce)if(t.is_read){uni.showLoading({title:"正在提交..."});var e=t.pay_type,i="wx";i="mp",t._post("plus.supply.supply/buy",{id:t.kmd_grade_id,name:t.name,introduce:t.introduce,pay_source:i,pay_type:e},(function(e){(0,n.pay)(e,t,t.paySuccess,t.payError)}))}else uni.showToast({title:"请同意协议！",icon:"none"});else uni.showToast({title:"请输入简介！",icon:"none"});else uni.showToast({title:"请填写名称！",icon:"none"})},paySuccess:function(t){this.showSuccess("申请成功",(function(){uni.navigateTo({url:"/pages/user/index/index"})}))},payError:function(e){this.showError("订单未支付成功",(function(){t("log","payError"," at pages/supply/apply.vue:236")}))},chooseGrade:function(e){t("log",e," at pages/supply/apply.vue:241"),this.type=e,this.kmd_grade_id=e},changeFunc:function(t){t.target.value.length>0?this.is_read=!0:this.is_read=!1}}};e.default=r}).call(this,i("0de9")["log"])},ab4b:function(t,e,i){"use strict";i.r(e);var a=i("9307"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},b0dd:function(t,e,i){var a=i("cd20");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("9e5ceaf4",a,!0,{sourceMap:!1,shadowMode:!1})},bb7b:function(t,e,i){"use strict";i.r(e);var a=i("e3b0"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},c571:function(t,e,i){"use strict";i.r(e);var a=i("8cf6"),n=i("bb7b");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("7e78");var r,o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"3d9d9e94",null,!1,a["a"],r);e["default"]=d.exports},cd20:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-mask[data-v-3d9d9e94]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-3d9d9e94]{position:absolute;z-index:999}.uni-popup-middle[data-v-3d9d9e94]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:%?600?%;\n\t/* height:800upx; */border-radius:%?10?%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:%?30?%;overflow:auto}.popup-head[data-v-3d9d9e94]{width:100%;padding-bottom:%?40?%;box-sizing:border-box;font-size:%?30?%;font-weight:700}.uni-popup-top[data-v-3d9d9e94]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-3d9d9e94]{left:0;bottom:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}",""]),t.exports=e},e3b0:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{show:{type:Boolean,default:!1},type:{type:String,default:"middle"},width:{type:Number,default:600},heigth:{type:Number,default:800},padding:{type:Number,default:30},backgroundColor:{type:String,default:"#ffffff"},boxShadow:{type:String,default:"0 0 30upx rgba(0, 0, 0, .1)"},msg:{type:String,default:""}},data:function(){var t=0;return t=0,{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")}}};e.default=a},eafc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pay=void 0;var a=function(t,e,i,a){if(-10===t.code)return e.showError(t.msg),!1;if(20==t.data.pay_type){if(!e.isWeixn())return void uni.navigateTo({url:"/pages/order/pay-h5/pay-h5?order_id="+t.data.order_id});WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(t.data.payment),(function(s){"get_brand_wcpay_request:ok"==s.err_msg?n(t,e,i):"get_brand_wcpay_request:cancel"==s.err_msg?e.showSuccess("支付取消",(function(){r(t,a)})):e.showError("订单未支付成功",(function(){r(t,a)}))}))}10==t.data.pay_type&&n(t,e,i)};function n(t,e,i){i?i(t):s(t)}function s(t){uni.reLaunch({url:"/pages/order/pay-success/pay-success?order_id="+t.data.order_id})}function r(t,e){e?e(t):uni.redirectTo({url:"/pages/order/order-detail/order-detail?order_id="+t.data.order_id})}e.pay=a}}]);