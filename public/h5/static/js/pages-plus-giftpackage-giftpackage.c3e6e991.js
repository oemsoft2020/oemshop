(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plus-giftpackage-giftpackage"],{"171b":function(t,i,e){"use strict";var a=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("c571")),o=e("eafc"),s={components:{Popup:n.default},data:function(){return{loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,id:0,detail:{},isPayPopup:!1}},onLoad:function(t){this.id=t.id},mounted:function(){uni.showLoading({title:"加载中"}),this.getData()},methods:{getData:function(){var t=this;t._get("plus.giftpackage.giftpackage/getGiftPackage",{id:t.id},(function(i){t.detail=i.data.data,t.loadding=!1}))},payTypeFunc:function(t){var i=this;uni.showLoading({title:"正在提交..."});var e="wx";e="mp",i._post("plus.giftpackage.giftpackage/buy",{id:i.id,pay_source:e,pay_type:t},(function(t){(0,o.pay)(t,i,i.paySuccess,i.payError)}))},paySuccess:function(t){this.showSuccess("礼包购买成功，请在个人中心查看",(function(){uni.switchTab({url:"/pages/user/index/index"})}))},payError:function(t){this.showError("订单未支付成功",(function(){console.log("payError")}))},hidePopupFunc:function(){this.isPayPopup=!1},onPay:function(){this.isPayPopup=!0}}};i.default=s},"44b1":function(t,i,e){var a=e("5de6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("498a4849",a,!0,{sourceMap:!1,shadowMode:!1})},"4e62":function(t,i,e){"use strict";e.r(i);var a=e("171b"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},5348:function(t,i,e){"use strict";var a=e("44b1"),n=e.n(a);n.a},"5de6":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".gift-package[data-v-05b3d938]{position:relative;min-height:100vh;background:#fd6f00}.gift-package .gift-bg[data-v-05b3d938]{position:absolute;top:0;left:0;right:0;width:100%;z-index:1}.gift-package .gift-package-main[data-v-05b3d938]{position:absolute;top:%?240?%;left:%?45?%;right:%?45?%;z-index:2}.gift-package-main .giftpackagr-info[data-v-05b3d938]{margin:0 auto;width:%?500?%;padding-top:%?20?%;background:hsla(0,0%,100%,.8);border-radius:%?30?%}.gift-package-main .giftpackagr-info .detatime[data-v-05b3d938]{padding:10px 30px}\n\n/* .gift-package-main .datetime {\n\tmargin: 0 auto;\n\twidth: 600rpx;\n\theight: 60rpx;\n\tline-height: 60rpx;\n\ttext-align: center;\n} */.cuopon-group[data-v-05b3d938]{margin-top:%?200?%;color:#fcf9c8;text-align:center;font-size:%?30?%}.cuopon-group .body[data-v-05b3d938]{margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.cuopon-group .body .item[data-v-05b3d938]{padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;border-radius:%?20?%;background:#ffba26}.cuopon-group .body .item .price[data-v-05b3d938]{height:%?60?%;line-height:%?60?%;border-bottom:1px solid #fff7e6;font-size:%?36?%}.cuopon-group .body .item .des[data-v-05b3d938]{padding:%?10?% 0;font-size:%?24?%}.gift-package-main .integral[data-v-05b3d938]{margin-top:%?20?%}.gift-package-main .integral .info[data-v-05b3d938]{margin-left:%?30?%;width:%?300?%;color:#fcf9c8}.gift-package-main .integral uni-image[data-v-05b3d938]{width:%?200?%;height:%?200?%}.gift-package-main .integral .num[data-v-05b3d938]{font-size:%?50?%}.gift-package-main .btns[data-v-05b3d938]{margin-top:%?30?%}.gift-package-main .btns uni-button[data-v-05b3d938]{height:%?100?%;line-height:%?100?%;text-shadow:0 0 %?8?% 0 rgba(0,0,0,.3);border-radius:%?50?%;color:#920202;font-size:%?36?%;box-shadow:0 0 %?8?% 0 rgba(0,0,0,.1);background:-webkit-linear-gradient(bottom,#ffde63,#edb12f);background:linear-gradient(0deg,#ffde63,#edb12f)}",""]),t.exports=i},"71cb":function(t,i,e){"use strict";e.r(i);var a=e("acc0"),n=e("4e62");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("5348");var s,d=e("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"05b3d938",null,!1,a["a"],s);i["default"]=r.exports},"7e78":function(t,i,e){"use strict";var a=e("b0dd"),n=e.n(a);n.a},"8cf6":function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hide.apply(void 0,arguments)}}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["uni-popup","uni-popup-"+t.type],style:"width:"+t.width+"rpx; heigth:"+t.heigth+"rpx;padding:"+t.padding+"rpx;background-color:"+t.backgroundColor+";box-shadow:"+t.boxShadow+";"},[""!=t.msg?e("v-uni-view",{staticClass:"popup-head"},[t._v(t._s(t.msg))]):t._e(),t._t("default")],2)],1)},o=[]},acc0:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.loadding?t._e():e("v-uni-view",{staticClass:"gift-package"},[e("v-uni-image",{staticClass:"gift-bg",attrs:{src:"/static/giftpackage.jpg",mode:"widthFix"}}),e("v-uni-view",{staticClass:"gift-package-main"},[e("div",{staticClass:"giftpackagr-info"},[e("v-uni-view",{staticClass:"d-c-c f50 fb red"},[t._v(t._s(t.detail.name))]),e("v-uni-view",{staticClass:"d-c-c detatime"},[e("v-uni-text",{staticClass:"fb"},[t._v("活动时间：")]),e("v-uni-view",{staticClass:"d-s-c d-c"},[e("v-uni-text",[t._v(t._s(t.detail.start_time.text))]),e("v-uni-text",[t._v(t._s(t.detail.end_time.text))])],1)],1)],1),e("v-uni-view",{staticClass:"cuopon-group",attrs:{if:"detail.is_coupon"}},[e("v-uni-view",{staticClass:"title f30"},[t._v("超值优惠券")]),e("v-uni-view",{staticClass:"body"},t._l(t.detail.coupon_list,(function(i,a){return e("v-uni-view",{key:a,staticClass:"item"},[e("v-uni-view",{staticClass:"price"},[e("v-uni-text",[t._v("￥")]),e("v-uni-text",[t._v(t._s(i.reduce_price))])],1),e("v-uni-view",{staticClass:"des"},[t._v(t._s(i.name))])],1)})),1)],1),t.detail.is_point?e("v-uni-view",{staticClass:"integral d-c-c"},[e("v-uni-image",{attrs:{src:"/static/gift.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"title f30"},[t._v("积分礼包")]),e("v-uni-view",{staticClass:"num"},[t._v(t._s(t.detail.point)+"积分")])],1)],1):t._e(),e("v-uni-view",{staticClass:"btns"},[e("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onPay()}}},[t._v(t._s(t.detail.money)+"元购买")])],1)],1),e("Popup",{attrs:{show:t.isPayPopup,msg:"支付方式"},on:{hidePopup:function(i){arguments[0]=i=t.$handleEvent(i),t.hidePopupFunc.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"buy-checkout"},[e("v-uni-view",{class:20==t.pay_type?"item active border-b-e":"item border-b-e",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.payTypeFunc(20)}}},[e("v-uni-view",{staticClass:"d-s-c"},[e("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[e("span",{staticClass:"icon iconfont icon-weixin"})]),e("v-uni-text",{staticClass:"key"},[t._v("微信支付")])],1),e("v-uni-view",{staticClass:"icon-box d-c-c"})],1),e("v-uni-view",{class:10==t.pay_type?"item active":"item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.payTypeFunc(10)}}},[e("v-uni-view",{staticClass:"d-s-c"},[e("v-uni-view",{staticClass:"icon-box d-c-c mr10"},[e("span",{staticClass:"icon iconfont icon-yue"})]),e("v-uni-text",{staticClass:"key"},[t._v("余额支付")])],1),e("v-uni-view",{staticClass:"icon-box d-c-c"})],1)],1),e("v-uni-view",{staticClass:"bts"})],1)],1)},o=[]},b0dd:function(t,i,e){var a=e("cd20");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("9e5ceaf4",a,!0,{sourceMap:!1,shadowMode:!1})},bb7b:function(t,i,e){"use strict";e.r(i);var a=e("e3b0"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},c571:function(t,i,e){"use strict";e.r(i);var a=e("8cf6"),n=e("bb7b");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("7e78");var s,d=e("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"3d9d9e94",null,!1,a["a"],s);i["default"]=r.exports},cd20:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".uni-mask[data-v-3d9d9e94]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-3d9d9e94]{position:absolute;z-index:999}.uni-popup-middle[data-v-3d9d9e94]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:%?600?%;\n\t/* height:800upx; */border-radius:%?10?%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:%?30?%;overflow:auto}.popup-head[data-v-3d9d9e94]{width:100%;padding-bottom:%?40?%;box-sizing:border-box;font-size:%?30?%;font-weight:700}.uni-popup-top[data-v-3d9d9e94]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-3d9d9e94]{left:0;bottom:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}",""]),t.exports=i},e3b0:function(t,i,e){"use strict";e("a9e3"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={props:{show:{type:Boolean,default:!1},type:{type:String,default:"middle"},width:{type:Number,default:600},heigth:{type:Number,default:800},padding:{type:Number,default:30},backgroundColor:{type:String,default:"#ffffff"},boxShadow:{type:String,default:"0 0 30upx rgba(0, 0, 0, .1)"},msg:{type:String,default:""}},data:function(){var t=0;return t=0,{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")}}};i.default=a},eafc:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.pay=void 0;var a=function(t,i,e,a){if(-10===t.code)return i.showError(t.msg),!1;if(20==t.data.pay_type){if(!i.isWeixn())return void uni.navigateTo({url:"/pages/order/pay-h5/pay-h5?order_id="+t.data.order_id});WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(t.data.payment),(function(o){"get_brand_wcpay_request:ok"==o.err_msg?n(t,i,e):"get_brand_wcpay_request:cancel"==o.err_msg?i.showSuccess("支付取消",(function(){s(t,a)})):i.showError("订单未支付成功",(function(){s(t,a)}))}))}10==t.data.pay_type&&n(t,i,e)};function n(t,i,e){e?e(t):o(t)}function o(t){uni.reLaunch({url:"/pages/order/pay-success/pay-success?order_id="+t.data.order_id})}function s(t,i){i?i(t):uni.redirectTo({url:"/pages/order/order-detail/order-detail?order_id="+t.data.order_id})}i.pay=a}}]);